(()=>{"use strict";var e,t={65:()=>{const e=window.React,t=window.wp.blocks,a=window.wp.blockEditor,l=window.wp.i18n,n=window.wp.components;function r({help:t,label:a,values:r,onChange:i,disableUnits:o,baseRule:s,unlockLastElement:u,valueProp:c={},minProp:m={},maxProp:d={}}){return r=r.map((e=>({...e}))),(0,e.createElement)(n.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,e.createElement)("span",{style:{fontSize:"12px"}},t)},(0,e.createElement)(n.Flex,null,(0,e.createElement)(n.BaseControl.VisualLabel,{style:{marginBottom:0}},a),(0,e.createElement)(n.Button,{icon:(0,e.createElement)(n.Dashicon,{icon:"plus-alt2"}),label:(0,l.__)("Add a rule","autogrid"),onClick:()=>{i([...r,s||{value:0,min:"",max:""}])}})),!!r.length&&(0,e.createElement)(n.Flex,null,(0,e.createElement)(n.FlexBlock,null,(0,e.createElement)(n.BaseControl.VisualLabel,null,(0,l.__)("Value","autogrid"))),(0,e.createElement)(n.FlexBlock,null,(0,e.createElement)(n.BaseControl.VisualLabel,null,(0,l.__)("Min","autogrid"))),(0,e.createElement)(n.FlexBlock,null,(0,e.createElement)(n.BaseControl.VisualLabel,null,(0,l.__)("Max","autogrid"))),(0,e.createElement)(n.FlexItem,null,(r.length>1||u)&&(0,e.createElement)(n.Button,{icon:(0,e.createElement)(n.Dashicon,{icon:""}),style:{height:0},label:"",disabled:!0}))),r.map(((t,a)=>(0,e.createElement)(n.Flex,{key:a,align:"start"},(0,e.createElement)(n.FlexBlock,null,(0,e.createElement)(n.__experimentalUnitControl,{label:c.label||(0,l.__)("Value","autogrid"),hideLabelFromVision:!0,onChange:e=>{t.value=parseInt(e),i([...r])},value:t.value,min:null==c.min?0:c.min,max:null==c.max?1/0:c.max,units:[],unit:"px",disableUnits:o,required:!0})),(0,e.createElement)(n.FlexBlock,null,(0,e.createElement)(n.__experimentalUnitControl,{label:m.label||(0,l.__)("Minimum container width","autogrid"),hideLabelFromVision:!0,onChange:e=>{t.min=parseInt(e),i([...r])},value:t.min,min:null==m.min?0:m.min,max:null==m.max?1/0:m.max,units:[],unit:"px",disableUnits:o})),(0,e.createElement)(n.FlexBlock,null,(0,e.createElement)(n.__experimentalUnitControl,{label:d.label||(0,l.__)("Maximum container width","autogrid"),hideLabelFromVision:!0,onChange:e=>{t.max=parseInt(e),i([...r])},value:t.max,min:null==d.min?0:d.min,max:null==d.max?1/0:d.max,units:[],unit:"px",disableUnits:o})),(0,e.createElement)(n.FlexItem,null,(r.length>1||u)&&(0,e.createElement)(n.Button,{icon:(0,e.createElement)(n.Dashicon,{icon:"minus"}),label:(0,l.__)("Delete a rule","autogrid"),style:{height:"30px"},onClick:()=>{i(r.filter(((e,t)=>t!=a)))}}))))))}const i=window.wp.element;function o({children:t,title:a}){const[r,o]=(0,i.useState)(!1),s=()=>o(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null," ",(0,e.createElement)(n.Button,{variant:"link",onClick:()=>o(!0)},(0,l.__)("More","autogrid"))),r&&(0,e.createElement)(n.Modal,{title:a,onRequestClose:s},(0,e.createElement)("div",{style:{maxWidth:"350px"}},t),(0,e.createElement)(n.Flex,{direction:"row",justify:"flex-end"},(0,e.createElement)(n.Button,{variant:"secondary",onClick:s},(0,l.__)("Ok","autogrid")))))}class s{STYLE_CSS="";QUERY_AND_PROPS_CSS={};constructor({selector:e,otherData:t}){this.selector=e||"",this.otherData=t||{}}apply({sizes:e,propName:t}){e=Array.isArray(e)?e.map(this.format).filter(this.checkIsValidItem):[];let a=this.getLastBase(e);return(e=e.filter((e=>!this.checkIsBaseItem(e)))).forEach((e=>this.dataCollection(e,t))),this.queryAndProps_toStyleCSS(),a}format(e){return{value:parseInt(e.value),min:parseInt(e.min),max:parseInt(e.max)}}checkIsValidItem=e=>!isNaN(e.value);checkIsBaseItem(e){return isNaN(e.min)&&isNaN(e.max)}getLastBase(e){return e.filter(this.checkIsBaseItem).reduce(((e,t)=>t.value),NaN)}getQueryAndPropCSS(e,t,a,l,n){let r,i,o,s="";return isNaN(t)||(r=t+"px",i=`(min-width:${r})`,s=s?s+" and "+i:i),isNaN(a)||(r=a+"px",o=`(max-width:${r})`,s=s?s+" and "+o:o),{query:s?`@container autogrid ${s}`:"",value:`${l}:${e}px;`}}dataCollection(e,t){let{query:a,value:l}=this.getQueryAndPropCSS(e.value,e.min,e.max,t,this.otherData);this.QUERY_AND_PROPS_CSS[a]||(this.QUERY_AND_PROPS_CSS[a]=[]),this.QUERY_AND_PROPS_CSS[a].push(l)}queryAndProps_toStyleCSS(){for(let e in this.QUERY_AND_PROPS_CSS)this.STYLE_CSS+=e+`{${this.selector}{${this.QUERY_AND_PROPS_CSS[e].join("")}}}`;this.QUERY_AND_PROPS_CSS={}}getCSS(){return this.STYLE_CSS}}const u=JSON.parse('{"u2":"andreslav/autogrid"}'),c={svg:(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},(0,e.createElement)("path",{fill:"#000",d:"M4 8.61c0-.57 0-.85.11-1.07a1 1 0 01.43-.43C4.76 7 5.04 7 5.6 7H8v4H4V8.61zM4 13h4v4H5.61c-.57 0-.85 0-1.07-.11a1 1 0 01-.43-.43C4 16.24 4 15.96 4 15.4V13zm6-6h4v4h-4zm0 6h10v2.39c0 .57 0 .85-.11 1.07a1 1 0 01-.43.43c-.22.11-.5.11-1.07.11H10v-4zm6-6h2.39c.57 0 .85 0 1.07.11a1 1 0 01.43.43c.11.22.11.5.11 1.07V11h-4V7z"}))};(0,t.registerBlockType)(u.u2,{icon:c.svg,edit:function({attributes:t,setAttributes:i,clientId:u}){const c=new s({selector:`#${"block-"+u}>*>*`}),m=c.apply({sizes:t.gaps,propName:"--grid-layout-gap"}),d=c.apply({sizes:t.childrenPaddings,propName:"--grid-item-padding-child"}),h=c.getCSS();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{...(0,a.useBlockProps)({style:{"--grid-item-min-width":parseInt(t.minWidth)+"px","--grid-layout-gap":isNaN(m)?"":m+"px","--grid-item-padding-child":isNaN(d)?"":d+"px","--grid-column-count":parseInt(t.columnCount)}})},(0,e.createElement)("div",{className:"wp-block-andreslav-autogrid__container"},(0,e.createElement)("div",{className:"wp-block-andreslav-autogrid__content"},(0,e.createElement)(a.InnerBlocks,{allowedBlocks:["andreslav/autogrid-item"],template:[["andreslav/autogrid-item",{}],["andreslav/autogrid-item",{}]],orientation:"horizontal"}))),h&&(0,e.createElement)("style",{dangerouslySetInnerHTML:{__html:h}})),(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Settings","autogrid")},(0,e.createElement)(n.RangeControl,{label:(0,l.__)("Maximum number of columns","autogrid"),min:1,value:t.columnCount,onChange:e=>{i({columnCount:e})},required:!0}),(0,e.createElement)(n.__experimentalUnitControl,{label:(0,l.__)("Minimum column width","autogrid"),help:(0,l.__)("When the cells reach this width, they are rearranged.","autogrid"),onChange:e=>{i({minWidth:parseInt(e)})},value:t.minWidth,min:0,units:[],unit:"px",required:!0}),(0,e.createElement)(r,{help:(0,e.createElement)(e.Fragment,null,(0,l.__)("This parameter allows you to set the spacing between cells.","autogrid"),(0,e.createElement)(o,{title:(0,l.__)("Spacing between cells","autogrid")},(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,l.__)("This parameter allows you to set the spacing between cells. The MIN and MAX values are optional and can be used to customize the adaptability of the parameter. For example, the rule [VALUE: 10, MAX: 500] means that if the width of the container is less than 500 px, the spacing between cells should be 10 px.","autogrid")}}),(0,e.createElement)("p",null,(0,l.__)("If more than one rule is created, the lower one has higher priority.","autogrid")))),label:(0,l.__)("Spacing between cells","autogrid"),values:t.gaps,onChange:e=>{i({gaps:e})}}),(0,e.createElement)(r,{help:(0,e.createElement)(e.Fragment,null,(0,l.__)("This option allows you to set the padding of cells.","autogrid"),(0,e.createElement)(o,{title:(0,l.__)("Padding of cells","autogrid")},(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,l.__)("This option allows you to set the padding of cells. The MIN and MAX values are optional and can be used to customize the adaptability of the parameter. For example, the [VALUE: 10, MIN: 500] rule means that when <u>the container width</u> is greater than 500 px, the padding of cells should be 10 px.","autogrid")}}),(0,e.createElement)("p",null,(0,l.__)("If more than one rule is created, the lower one has higher priority.","autogrid")))),label:(0,l.__)("Padding of cells","autogrid"),values:t.childrenPaddings,onChange:e=>{i({childrenPaddings:e})}}))))},save:()=>(0,e.createElement)(a.InnerBlocks.Content,null)})}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,a,n,r)=>{if(!a){var i=1/0;for(c=0;c<e.length;c++){for(var[a,n,r]=e[c],o=!0,s=0;s<a.length;s++)(!1&r||i>=r)&&Object.keys(l.O).every((e=>l.O[e](a[s])))?a.splice(s--,1):(o=!1,r<i&&(i=r));if(o){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={201:0,315:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[i,o,s]=a,u=0;if(i.some((t=>0!==e[t]))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(s)var c=s(l)}for(t&&t(a);u<i.length;u++)r=i[u],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},a=globalThis.webpackChunkautogrid=globalThis.webpackChunkautogrid||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=l.O(void 0,[315],(()=>l(65)));n=l.O(n)})();