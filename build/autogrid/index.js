(()=>{"use strict";var e,t={883:()=>{const e=window.React,t=window.wp.blocks,l=window.wp.blockEditor,n=window.wp.i18n,a=window.wp.components,i=window.wp.element;function r({label:t,value:n,onChange:i}){(0,l.useSetting)("spacing.spacingSizes");const r=(0,l.useSetting)("spacing.units");console.log({label:t,value:n,onChange:i});const o=r?r.filter((e=>"%"!==e)):["px","em","rem","vw","vh"],s=(0,a.__experimentalUseCustomUnits)({availableUnits:o}),[m,c]=(0,a.__experimentalParseQuantityAndUnitFromRawValue)(n),u=(0,l.isValueSpacingPreset)(n)?n:[m,c].join("");return console.log({computedValue:u}),(0,e.createElement)(l.__experimentalSpacingSizesControl,{values:{one:u},onChange:e=>{console.log(4,[e]),i(e.one)},label:t,sides:["one"],units:s})}const o=window.wp.primitives,s=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),m=(0,e.createElement)(a.Icon,{icon:s,size:24});function c({label:t,controls:l,selected:n,icon:i,onChange:r}){return(0,e.createElement)(a.DropdownMenu,{label:t,icon:i,toggleProps:{isSmall:!0}},(({onClose:t})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.MenuGroup,null,l.map((({label:l,slug:i,icon:o,onClick:s})=>{const c=n===i;return(0,e.createElement)(a.MenuItem,{key:i,icon:o,iconPosition:"left",isSelected:c,role:"menuitemradio",onClick:e=>{s&&s(),r(i),t()},suffix:c?m:void 0},l)}))))))}const u=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z"})),h=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,e.createElement)(o.Path,{d:"m4.5 7.5v9h1.5v-9z"}),(0,e.createElement)(o.Path,{d:"m18 7.5v9h1.5v-9z"})),d=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,e.createElement)(o.Path,{d:"m7.5 6h9v-1.5h-9z"}),(0,e.createElement)(o.Path,{d:"m7.5 19.5h9v-1.5h-9z"})),p=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})),g=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),_=(0,e.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(o.Path,{d:"M7 11.5h10V13H7z"}));function v({help:t,label:l,values:i,onChange:o,disableUnits:s,baseRule:m,unlockLastElement:v,valueProp:x={},minProp:E={},maxProp:w={}}){i=i.map((e=>({...e}))),console.log(i);const b=[{slug:"all",label:"All"},{slug:"horizontal",label:"Horizontal"},{slug:"vertical",label:"Vertical"}],S={all:u,horizontal:h,vertical:d},C=[{slug:"delete",label:(0,n.__)("Delete a rule","autogrid"),isDestructive:!0},{slug:"moveUp",label:"Move up"},{slug:"moveDown",label:"Move down"}];return(0,e.createElement)(a.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,e.createElement)("span",{style:{fontSize:"12px"}},t)},(0,e.createElement)(a.Flex,null,(0,e.createElement)(a.BaseControl.VisualLabel,{as:"legend",style:{marginBottom:0}},l),(0,e.createElement)(a.Button,{icon:p,label:(0,n.__)("Add a rule","autogrid"),iconSize:24,onClick:()=>{o([...i,m||{value:0,min:"",max:""}])}})),!!i.length&&(0,e.createElement)(a.Flex,null,(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.BaseControl.VisualLabel,null,(0,n.__)("Value","autogrid"))),(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.BaseControl.VisualLabel,null,(0,n.__)("Min","autogrid"))),(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.BaseControl.VisualLabel,null,(0,n.__)("Max","autogrid"))),(0,e.createElement)(a.FlexItem,null,(i.length>1||v)&&(0,e.createElement)(a.Button,{icon:(0,e.createElement)(a.Dashicon,{icon:""}),style:{height:0},label:"",disabled:!0}))),i.map(((t,l)=>{const m=""!==t.min||""!==t.max,u=t.axis||"all",h=i.length>1||v?C:C.filter((e=>"delete"!==e.slug));return(0,e.createElement)("div",{key:l},(0,e.createElement)(a.__experimentalHStack,{className:"one-spacing-sizes-control"},(0,e.createElement)(c,{label:(0,n.__)("Select a direction"),controls:b,selected:u,icon:S[u],onChange:e=>{t.axis=e,o([...i])}}),(0,e.createElement)(a.FlexBlock,null,s?(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.__experimentalUnitControl,{label:x.label||(0,n.__)("Value","autogrid"),hideLabelFromVision:!0,onChange:e=>{t.value=parseInt(e),o([...i])},value:t.value,min:null==x.min?0:x.min,max:null==x.max?1/0:x.max,units:[],unit:"px",disableUnits:s,required:!0})):(0,e.createElement)(r,{onChange:e=>{t.value=e,o([...i])},value:t.value})),(0,e.createElement)(a.Dropdown,{popoverProps:{placement:"bottom-end"},renderToggle:({isOpen:t,onToggle:l})=>(0,e.createElement)(a.Button,{onClick:l,"aria-expanded":t,icon:g,style:{opacity:m?1:.5}}),renderContent:()=>(0,e.createElement)(a.Flex,{align:"start",style:{minWidth:"140px"}},(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.__experimentalUnitControl,{label:E.label||(0,n.__)("Minimum container width","autogrid"),hideLabelFromVision:!0,help:(0,n.__)("Min","autogrid"),onChange:e=>{e=parseInt(e),t.min=isNaN(e)?"":e,o([...i])},value:t.min,min:null==E.min?0:E.min,max:null==E.max?1/0:E.max,units:[],unit:"px",disableUnits:s})),(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.__experimentalUnitControl,{label:w.label||(0,n.__)("Maximum container width","autogrid"),hideLabelFromVision:!0,help:w.label||(0,n.__)("Max","autogrid"),onChange:e=>{e=parseInt(e),t.max=isNaN(e)?"":e,o([...i])},value:t.max,min:null==w.min?0:w.min,max:null==w.max?1/0:w.max,units:[],unit:"px",disableUnits:s})))}),(0,e.createElement)(c,{label:(0,n.__)("..."),controls:h,onChange:e=>{"delete"===e&&o(i.filter(((e,t)=>t!=l)))}}),(0,e.createElement)(a.FlexItem,null,(i.length>1||v)&&(0,e.createElement)(a.Button,{icon:_,label:(0,n.__)("Delete a rule","autogrid"),iconSize:24,onClick:()=>{o(i.filter(((e,t)=>t!=l)))}}))),(0,e.createElement)(a.Flex,{key:l,align:"start",style:{display:"none"}},(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.__experimentalUnitControl,{label:x.label||(0,n.__)("Value","autogrid"),hideLabelFromVision:!0,onChange:e=>{t.value=parseInt(e),o([...i])},value:t.value,min:null==x.min?0:x.min,max:null==x.max?1/0:x.max,units:[],unit:"px",disableUnits:s,required:!0})),(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.__experimentalUnitControl,{label:E.label||(0,n.__)("Minimum container width","autogrid"),hideLabelFromVision:!0,onChange:e=>{t.min=parseInt(e),o([...i])},value:t.min,min:null==E.min?0:E.min,max:null==E.max?1/0:E.max,units:[],unit:"px",disableUnits:s})),(0,e.createElement)(a.FlexBlock,null,(0,e.createElement)(a.__experimentalUnitControl,{label:w.label||(0,n.__)("Maximum container width","autogrid"),hideLabelFromVision:!0,onChange:e=>{t.max=parseInt(e),o([...i])},value:t.max,min:null==w.min?0:w.min,max:null==w.max?1/0:w.max,units:[],unit:"px",disableUnits:s})),(0,e.createElement)(a.FlexItem,null,(i.length>1||v)&&(0,e.createElement)(a.Button,{icon:_,label:(0,n.__)("Delete a rule","autogrid"),style:{height:"30px"},onClick:()=>{o(i.filter(((e,t)=>t!=l)))}}))))})))}function x({children:t,title:l}){const[r,o]=(0,i.useState)(!1),s=()=>o(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null," ",(0,e.createElement)(a.Button,{variant:"link",onClick:()=>o(!0)},(0,n.__)("More","autogrid"))),r&&(0,e.createElement)(a.Modal,{title:l,onRequestClose:s},(0,e.createElement)("div",{style:{maxWidth:"350px"}},t),(0,e.createElement)(a.Flex,{direction:"row",justify:"flex-end"},(0,e.createElement)(a.Button,{variant:"secondary",onClick:s},(0,n.__)("Ok","autogrid")))))}class E{STYLE_CSS="";QUERY_AND_PROPS_CSS={};constructor({selector:e,otherData:t}){this.selector=e||"",this.otherData=t||{}}apply({sizes:e,propName:t}){e=Array.isArray(e)?e.map(this.format).filter(this.checkIsValidItem):[];let l=this.getLastBase(e);return(e=e.filter((e=>!this.checkIsBaseItem(e)))).forEach((e=>this.dataCollection(e,t))),this.queryAndProps_toStyleCSS(),l}format(e){return{value:parseInt(e.value),min:parseInt(e.min),max:parseInt(e.max)}}checkIsValidItem=e=>!isNaN(e.value);checkIsBaseItem(e){return isNaN(e.min)&&isNaN(e.max)}getLastBase(e){return e.filter(this.checkIsBaseItem).reduce(((e,t)=>t.value),NaN)}getQueryAndPropCSS(e,t,l,n,a){let i,r,o,s="";return isNaN(t)||(i=t+"px",r=`(min-width:${i})`,s=s?s+" and "+r:r),isNaN(l)||(i=l+"px",o=`(max-width:${i})`,s=s?s+" and "+o:o),{query:s?`@container autogrid ${s}`:"",value:`${n}:${e}px;`}}dataCollection(e,t){let{query:l,value:n}=this.getQueryAndPropCSS(e.value,e.min,e.max,t,this.otherData);this.QUERY_AND_PROPS_CSS[l]||(this.QUERY_AND_PROPS_CSS[l]=[]),this.QUERY_AND_PROPS_CSS[l].push(n)}queryAndProps_toStyleCSS(){for(let e in this.QUERY_AND_PROPS_CSS)this.STYLE_CSS+=e+`{${this.selector}{${this.QUERY_AND_PROPS_CSS[e].join("")}}}`;this.QUERY_AND_PROPS_CSS={}}getCSS(){return this.STYLE_CSS}}const w=JSON.parse('{"u2":"andreslav/autogrid"}'),b={svg:(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},(0,e.createElement)("path",{fill:"#000",d:"M4 8.61c0-.57 0-.85.11-1.07a1 1 0 01.43-.43C4.76 7 5.04 7 5.6 7H8v4H4V8.61zM4 13h4v4H5.61c-.57 0-.85 0-1.07-.11a1 1 0 01-.43-.43C4 16.24 4 15.96 4 15.4V13zm6-6h4v4h-4zm0 6h10v2.39c0 .57 0 .85-.11 1.07a1 1 0 01-.43.43c-.22.11-.5.11-1.07.11H10v-4zm6-6h2.39c.57 0 .85 0 1.07.11a1 1 0 01.43.43c.11.22.11.5.11 1.07V11h-4V7z"}))};(0,t.registerBlockType)(w.u2,{icon:b.svg,edit:function({attributes:t,setAttributes:i,clientId:r}){const o=new E({selector:`#${"block-"+r}>*>*`}),s=o.apply({sizes:t.gaps,propName:"--grid-layout-gap"}),m=o.apply({sizes:t.childrenPaddings,propName:"--grid-item-padding-child"}),c=o.getCSS();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{...(0,l.useBlockProps)({style:{"--grid-item-min-width":parseInt(t.minWidth)+"px","--grid-layout-gap":isNaN(s)?"":s+"px","--grid-item-padding-child":isNaN(m)?"":m+"px","--grid-column-count":parseInt(t.columnCount)}})},(0,e.createElement)("div",{className:"wp-block-andreslav-autogrid__container"},(0,e.createElement)("div",{className:"wp-block-andreslav-autogrid__content"},(0,e.createElement)(l.InnerBlocks,{allowedBlocks:["andreslav/autogrid-item"],template:[["andreslav/autogrid-item",{}],["andreslav/autogrid-item",{}]],orientation:"horizontal"}))),c&&(0,e.createElement)("style",{dangerouslySetInnerHTML:{__html:c}})),(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(a.PanelBody,{title:(0,n.__)("Settings","autogrid")},(0,e.createElement)(a.RangeControl,{label:(0,n.__)("Maximum number of columns","autogrid"),min:1,value:t.columnCount,onChange:e=>{i({columnCount:e})},required:!0}),(0,e.createElement)(a.__experimentalUnitControl,{label:(0,n.__)("Minimum column width","autogrid"),help:(0,n.__)("When the cells reach this width, they are rearranged.","autogrid"),onChange:e=>{i({minWidth:parseInt(e)})},value:t.minWidth,min:0,units:[],unit:"px",required:!0}),(0,e.createElement)(v,{help:(0,e.createElement)(e.Fragment,null,(0,n.__)("This parameter allows you to set the spacing between cells.","autogrid"),(0,e.createElement)(x,{title:(0,n.__)("Spacing between cells","autogrid")},(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,n.__)("This parameter allows you to set the spacing between cells. The MIN and MAX values are optional and can be used to customize the adaptability of the parameter. For example, the rule [VALUE: 10, MAX: 500] means that if the width of the container is less than 500 px, the spacing between cells should be 10 px.","autogrid")}}),(0,e.createElement)("p",null,(0,n.__)("If more than one rule is created, the lower one has higher priority.","autogrid")))),label:(0,n.__)("Spacing between cells","autogrid"),values:t.gaps,onChange:e=>{i({gaps:e})}}),(0,e.createElement)(v,{help:(0,e.createElement)(e.Fragment,null,(0,n.__)("This option allows you to set the padding of cells.","autogrid"),(0,e.createElement)(x,{title:(0,n.__)("Padding of cells","autogrid")},(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,n.__)("This option allows you to set the padding of cells. The MIN and MAX values are optional and can be used to customize the adaptability of the parameter. For example, the [VALUE: 10, MIN: 500] rule means that when <u>the container width</u> is greater than 500 px, the padding of cells should be 10 px.","autogrid")}}),(0,e.createElement)("p",null,(0,n.__)("If more than one rule is created, the lower one has higher priority.","autogrid")))),label:(0,n.__)("Padding of cells","autogrid"),values:t.childrenPaddings,onChange:e=>{i({childrenPaddings:e})}}))))},save:()=>(0,e.createElement)(l.InnerBlocks.Content,null)})}},l={};function n(e){var a=l[e];if(void 0!==a)return a.exports;var i=l[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,l,a,i)=>{if(!l){var r=1/0;for(c=0;c<e.length;c++){for(var[l,a,i]=e[c],o=!0,s=0;s<l.length;s++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](l[s])))?l.splice(s--,1):(o=!1,i<r&&(r=i));if(o){e.splice(c--,1);var m=a();void 0!==m&&(t=m)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[l,a,i]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={201:0,315:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var a,i,[r,o,s]=l,m=0;if(r.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(s)var c=s(n)}for(t&&t(l);m<r.length;m++)i=r[m],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},l=globalThis.webpackChunkautogrid=globalThis.webpackChunkautogrid||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=n.O(void 0,[315],(()=>n(883)));a=n.O(a)})();